// E:\3_CODING\Personally\english_practice\src\components\Tabbar\Tabbar.tsx
'use client';

import React from 'react';

export interface TabbarProps {
  dark: boolean;
  onToggleDark: () => void;

  colorHex: string;
  onChangeColorHex: (hex: string) => void;

  colorOn: boolean;
  onToggleColor: () => void;

  onOpenPaste: () => void;

  /** Báº­t/táº¯t sticky (máº·c Ä‘á»‹nh: true) */
  sticky?: boolean;
  /** Khoáº£ng cÃ¡ch tá»« top (px) náº¿u muá»‘n chá»«a header khÃ¡c (máº·c Ä‘á»‹nh: 0) */
  offsetTop?: number;
}

const Tabbar: React.FC<TabbarProps> = ({
  dark,
  onToggleDark,
  colorHex,
  onChangeColorHex,
  colorOn,
  onToggleColor,
  onOpenPaste,
  sticky = true,
  offsetTop = 0,
}) => {
  return (
    <div
      role="toolbar"
      className={`toolbar toolbar-sticky`}
      style={
        sticky
          ? {
              position: 'sticky',
              top: offsetTop,
              zIndex: 50,
              background: 'var(--toolbar-bg, rgba(255,255,255,0.85))',
              backdropFilter: 'saturate(180%) blur(6px)',
              WebkitBackdropFilter: 'saturate(180%) blur(6px)',
              borderBottom: '1px solid var(--toolbar-border, #e5e7eb)',
            }
          : undefined
      }
    >

      <div className="color-wrap">
        <input
          type="color"
          id="colorPicker"
          value={colorHex}
          onChange={(e) => onChangeColorHex(e.target.value)}
        />
      </div>

      <button
        className={`toggle-btn${colorOn ? ' active' : ''}`}
        id="toggleColor"
        aria-pressed={colorOn}
        title="Báº­t/Táº¯t cháº¿ Ä‘á»™ gÃµ cÃ³ mÃ u"
        onClick={onToggleColor}
      >
        {colorOn ? 'ðŸŽ¨ Color: ON' : 'ðŸŽ¨ Color: OFF'}
      </button>

      <button
        className="toggle-btn btn-small"
        id="openPaste"
        title="Paste vÄƒn báº£n vÃ o vá»‹ trÃ­ con trá»"
        onClick={onOpenPaste}
      >
        ðŸ“‹ Paste
      </button>
    </div>
  );
};

export default Tabbar;
